<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Kim Ng·ªçc üíô</title>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(to bottom, #bae6fd, #e0f2fe, #ffffff);
  text-align: center;
  margin: 0;
  padding: 20px;
  min-height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
}

h1 { font-size: 3rem; color: #0369a1; text-shadow: 2px 2px 6px rgba(0,0,0,0.2); margin-top: 40px; animation: bounce 1.5s infinite; }
@keyframes bounce {0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }

.message, .surprise p, .surprise img { max-width: 650px; margin: 20px auto; border-radius: 16px; box-shadow: 0 4px 12px rgba(56,189,248,0.3); transition: opacity 1s ease, transform 1s ease;}
.message { padding: 15px 20px; font-size: 1.1rem; line-height: 1.6; background: rgba(186,230,253,0.1); border: 2px solid #38bdf8; min-height: 120px; white-space: pre-wrap; overflow-wrap: break-word; opacity:0;}
.message.show { opacity:1; }

.fade-out { opacity:0; transform:translateY(-30px) scale(0.9); pointer-events:none; }
.fade-in { opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }

.surprise { display:flex; flex-direction:column; align-items:center; opacity:0; transform:translateY(20px) scale(0.9); position: relative;}
.surprise.show { opacity:1; transform:translateY(0) scale(1);}
.surprise img { max-width:320px; margin-top:15px; opacity:0; transform:scale(1.05); transition: opacity 1s ease, transform 1s ease;}
.surprise.show img { opacity:1; transform:scale(1); }

#countdownBar {
  position:absolute;
  bottom:-12px;
  left:0;
  height:14px; /* b·ª± h∆°n */
  background: skyblue;
  width:100%;
  border-radius:7px;
  box-shadow: 0 0 10px skyblue;
  transition: width 0.5s ease-out;
}

button { margin-top: 20px; padding: 12px 20px; border:none; border-radius:20px; background:#0ea5e9; color:white; font-size:1rem; cursor:pointer; transition:0.3s, box-shadow 0.3s;}
button:hover { background:#0284c7; box-shadow:0 0 12px rgba(0,150,255,0.6); }

.heart { position: fixed; bottom: -30px; font-size: 28px; color: #38bdf8; animation: rise 8s linear forwards; z-index:5;}
@keyframes rise { to { transform:translateY(-120vh); opacity:0; } }

canvas { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; }

#musicControl { position: fixed; bottom:20px; right:20px; background:#0ea5e9; border:none; color:white; padding:10px 14px; border-radius:50%; cursor:pointer; font-size:1.2rem; box-shadow:0 4px 10px rgba(0,0,0,0.2);}
#musicControl:hover { background:#0284c7;}
</style>
</head>
<body>

<h1>‚òÅÔ∏è Happy Birthday to em b√© Kim Ng·ªçc üíô</h1>

<button id="showMessageBtn">B·∫•m v√¥ em n√®ee üêï</button>
<div class="message" id="messageBox"></div>

<button id="surpriseBtn">üêïüê© T·ª•i em c√≥ b·∫•t ng·ªù d√†nh cho ch·ªã Ng·ªçc n√®e, ch·ªã Ng·ªçc ki√™n nh·∫´n xem h·∫øt nheee ü¶Æüêï‚Äçü¶∫</button>
<div id="surpriseBox" class="surprise">
  <div id="countdownBar"></div>
</div>

<audio id="bgMusic" loop>
  <source src="https://raw.githubusercontent.com/nthong2209-jpg/birthday-web-Kngoc/main/happy-birthday-to-you-piano-version-13976.mp3" type="audio/mpeg">
</audio>

<canvas id="fireworks"></canvas>

<script>
// L·ªùi ch√∫c
const messageText = `H√¥m nay l√† m·ªôt ng√†y tuy·ªát ƒë·∫πp, ng√†y m√† c√≥ m·ªôt c√¥ c√¥ng ch√∫a ƒë∆∞·ª£c gi√°ng tr·∫ßn, h√¥m nay l√† ng√†y c·ªßa em, Kim Ng·ªçc. 
D√π ch√∫ng ta ƒë√£ kh√¥ng c√≤n ƒëi chung m·ªôt con ƒë∆∞·ªùng, kh√¥ng c√≤n ƒë·ªìng h√†nh c√πng v·ªõi nhau, nh∆∞ng trong l√≤ng anh, anh v·∫´n lu√¥n mong em th·∫≠t v·ªØng v√†ng v√† tr∆∞·ªüng th√†nh h∆°n tr√™n ch·∫∑ng ƒë∆∞·ªùng ph√≠a tr∆∞·ªõc.
Anh mong r·∫±ng em s·∫Ω lu√¥n t√¨m th·∫•y ni·ªÅm vui, h·∫°nh ph√∫c v√† s·ª± b√¨nh y√™n trong cu·ªôc s·ªëng c·ªßa ri√™ng em.
Anh mong r·∫±ng m·ªçi ∆∞·ªõc m∆°, m·ªçi ho√†i b√£o c·ªßa em ƒë·ªÅu s·∫Ω th√†nh hi·ªán th·ª±c, v√† tr√™n m·ªói ch·∫∑ng ƒë∆∞·ªùng s·∫Øp t·ªõi, anh mong v√† hi v·ªçng m√¨nh s·∫Ω ƒë∆∞·ª£c l√† ng∆∞·ªùi lu√¥n ƒë·ªìng h√†nh c√πng v·ªõi em, che ch·ªü cho em, b√π ƒë·∫Øp cho em v√† y√™u th∆∞∆°ng em h·∫øt l√≤ng. üíï
C·∫£m ∆°n em v√¨ nh·ªØng k·ª∑ ni·ªám ƒë·∫πp m√† c·∫£ hai ch√∫ng ta ƒë√£ t·∫°o ra c√πng nhau, v√† ch√∫c em m√£i m√£i l√† phi√™n b·∫£n tuy·ªát v·ªùi nh·∫•t c·ªßa ch√≠nh m√¨nh. üíô.`;

// Surprise boxes
const surprises = [
  { text: "Ng√†y n√¨ l√† ng√†y c√≥ m·ªôt c√¥ c√¥ng ch√∫a c·ª±c k√¨ gi·ªèi giang v√† xinh ƒë·∫πp ch√†o ƒë·ªùi üéÅüíô", img: "https://raw.githubusercontent.com/nthong2209-jpg/birthday-web-Kngoc/main/anh_hoi_nho_cua_Kngoc.jpg" },
  { text: "Ch√∫c em lu√¥n m·ªâm c∆∞·ªùi v√† h·∫°nh ph√∫c m·ªói ng√†y üå∏", img: "https://raw.githubusercontent.com/nthong2209-jpg/birthday-web-Kngoc/main/anh_birthday_2.jpg" },
  { text: "M·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp s·∫Ω ƒë·∫øn v·ªõi em üíô", img: "https://raw.githubusercontent.com/nthong2209-jpg/birthday-web-Kngoc/main/birthday3.jpg" }
];
let currentIndex = 0;

// Typing effect
function typeMessage(text, element, speed=30){
  let i=0;
  element.textContent="";
  element.classList.add("show");
  const interval = setInterval(()=>{
    element.textContent += text.charAt(i);
    i++;
    if(i>=text.length) clearInterval(interval);
  }, speed);
}

// Hi·ªán message v√† nh·∫°c
document.getElementById("showMessageBtn").addEventListener("click", ()=>{
  typeMessage(messageText, document.getElementById("messageBox"), 30);
  document.getElementById("showMessageBtn").disabled=true;
  document.getElementById("bgMusic").play().catch(()=>{});
});

// Surprise button v√† countdown
document.getElementById("surpriseBtn").addEventListener("click", ()=>{
  nextSurprise();
});

// H√†m chuy·ªÉn surprise box v·ªõi countdown
function nextSurprise(){
  const box = document.getElementById("surpriseBox");
  const bar = document.getElementById("countdownBar");
  if(currentIndex >= surprises.length){ alert("ƒê√£ h·∫øt b·∫•t ng·ªù üéâ"); return;}

  // X√≥a n·ªôi dung c≈©
  box.classList.remove("show");
  box.innerHTML = '<div id="countdownBar"></div>';
  const barNew = document.getElementById("countdownBar");
  barNew.style.width="100%";

  const s = surprises[currentIndex];
  const p = document.createElement("p"); p.textContent = s.text;
  const img = document.createElement("img"); img.src = s.img; img.alt="Surprise";
  box.appendChild(p); box.appendChild(img);

  void box.offsetWidth;
  setTimeout(()=>{ box.classList.add("show"); }, 200);

  // Countdown 30s
  let countdown = 30;
  const interval = setInterval(()=>{
    countdown--;
    barNew.style.width = `${(countdown/30)*100}%`;
    if(countdown<=0){
      clearInterval(interval);
      currentIndex++;
      nextSurprise();
    }
  },1000);
}

// Nh·∫°c n·ªÅn
const music = document.getElementById("bgMusic");
const musicBtn = document.createElement("button");
musicBtn.id="musicControl"; musicBtn.textContent="‚ñ∂Ô∏è"; document.body.appendChild(musicBtn);
let isPlaying=false;
musicBtn.addEventListener("click", ()=>{
  if(!isPlaying){ music.play(); musicBtn.textContent="‚è∏Ô∏è"; }
  else { music.pause(); musicBtn.textContent="‚ñ∂Ô∏è"; }
  isPlaying=!isPlaying;
});

// Tr√°i tim
setInterval(()=>{
  const h=document.createElement("div"); h.className="heart"; h.innerText="üíô";
  h.style.left=Math.random()*window.innerWidth+"px"; h.style.fontSize=(20+Math.random()*20)+"px";
  document.body.appendChild(h); setTimeout(()=>h.remove(),8000);
},1200);

// Ph√°o hoa
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d"); canvas.width=window.innerWidth; canvas.height=window.innerHeight;
let particles=[];
function createFirework(x,y){for(let i=0;i<50;i++){particles.push({x,y,angle:Math.random()*Math.PI*2,speed:Math.random()*5+2,alpha:1});}}
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);particles.forEach((p,i)=>{p.x+=Math.cos(p.angle)*p.speed;p.y+=Math.sin(p.angle)*p.speed;p.alpha-=0.01;ctx.fillStyle=`rgba(90,160,255,${p.alpha})`;ctx.beginPath();ctx.arc(p.x,p.y,3,0,Math.PI*2);ctx.fill();if(p.alpha<=0)particles.splice(i,1);});requestAnimationFrame(animate);}
animate();
setInterval(()=>createFirework(Math.random()*canvas.width,Math.random()*canvas.height*0.5),700);
</script>
</body>
</html>
